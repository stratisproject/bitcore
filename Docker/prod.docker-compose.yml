version: '3'
services:  
    bitcore-node:
        container_name: bitcore-node
        image: bitcorestrax.azurecr.io/bitcore-node
        ports:
        - 3000:3000
        volumes:
        - /root/config:/config
        environment:
            - DB_URL=mongodb://bitcore:j8Po3iEekf0cCU1JUgl7gTfVkjlmedNN@database:27017/bitcore?authSource=admin&socketTimeoutMS=3600000&noDelay=true
            - BITCORE_CONFIG_PATH=/config/bitcore.config.testnet.json
        restart: always

    bws:
        container_name: bws
        image: bitcorestrax.azurecr.io/bws
        depends_on:
        - bitcore-node
        ports:
        - 80:3032
        volumes:
        - /root/config:/config
        environment:
            - DB_URL=mongodb://bitcore:j8Po3iEekf0cCU1JUgl7gTfVkjlmedNN@database:27017
            - BWS_CONFIG_PATH=/config/bws.config.testnet.js
        restart: always